- type: Frontend
  id: UI-QueryForm
  description: 首页的车票查询表单。
  properties: []
  state:
    - from
    - to
    - date
    - isStudent
    - isRoundTrip
    - isLoading
    - error
  dependencies:
    - API-GET-Trains
  acceptanceCriteria:
    - 渲染出发地、目的地、日期输入框和查询按钮。
    - 点击查询按钮时，调用 API-GET-Trains 接口。
    - 在查询期间显示加载状态。
  changeLog:
    - date: "2025-10-19"
      description: "初始创建。"

- type: Frontend
  id: UI-LoginForm
  description: 用户登录表单。
  properties:
    - name: onLoginSuccess
      type: function
      description: "登录成功后的回调函数。"
  state:
    - identifier
    - password
    - captcha
    - error
    - isLoading
  dependencies:
    - API-POST-Login
  acceptanceCriteria:
    - 点击登录按钮时，调用 API-POST-Login 接口。
  changeLog:
    - date: "2025-10-19"
      description: "初始创建。"

- type: Frontend
  id: UI-RegisterForm
  description: 用户注册表单。
  properties:
    - name: onRegisterSuccess
      type: function
      description: "注册成功后的回调函数。"
  state:
    - type
    - identifier
    - verificationCode
    - password
    - error
    - isLoading
  dependencies:
    - API-POST-Register
  acceptanceCriteria:
    - 点击注册按钮时，调用 API-POST-Register 接口。
  changeLog:
    - date: "2025-10-19"
      description: "初始创建。"

- type: Frontend
  id: UI-TrainList
  description: 展示查询结果的车次列表。
  properties:
    - name: trains
      type: array
      description: "车次数据列表。"
  state:
    - sortBy
    - filter
  dependencies:
    - API-GET-Trains
  acceptanceCriteria:
    - 渲染车次列表，包括时间、价格、余票等信息。
    - 提供排序和筛选功能。
    - 点击“预订”按钮，导航到订单填写页面。
  changeLog:
    - date: "2025-10-19"
      description: "初始创建。"

- type: Frontend
  id: UI-OrderForm
  description: 订单填写页面。
  properties:
    - name: trainInfo
      type: object
      description: "所选车次的信息。"
  state:
    - selectedPassengers
    - newPassengerInfo
    - error
    - isLoading
  dependencies:
    - API-GET-Passengers
    - API-POST-Orders
    - API-POST-Passengers
  acceptanceCriteria:
    - 显示车次信息和乘客列表。
    - 支持选择已有乘客或添加新乘客。
    - 提交订单时调用 API-POST-Orders 接口。
  changeLog:
    - date: "2025-10-19"
      description: "初始创建。"

- type: Frontend
  id: UI-PersonalCenter
  description: 用户的个人中心页面。
  properties: []
  state:
    - activeTab # 'orders', 'passengers', 'settings'
  dependencies:
    - UI-OrderList
    - UI-PassengerManager
    - UI-PasswordSettings
  acceptanceCriteria:
    - 提供订单管理、乘客管理和账户设置的入口。
  changeLog:
    - date: "2025-10-19"
      description: "初始创建。"

- type: Frontend
  id: UI-OrderList
  description: 用户的订单列表。
  properties: []
  state:
    - orders
    - filter # 'upcoming' or 'historical'
    - isLoading
  dependencies:
    - API-GET-Orders
  acceptanceCriteria:
    - 根据筛选条件显示未出行或历史订单。
  changeLog:
    - date: "2025-10-19"
      description: "初始创建。"

- type: Frontend
  id: UI-PassengerManager
  description: 常用乘客管理组件。
  properties: []
  state:
    - passengers
    - isLoading
  dependencies:
    - API-GET-Passengers
    - API-POST-Passengers
    - API-PUT-Passengers
    - API-DELETE-Passengers
  acceptanceCriteria:
    - 显示常用乘客列表。
    - 支持添加、编辑和删除乘客。
  changeLog:
    - date: "2025-10-19"
      description: "初始创建。"